2025-06-25 01:33:50.394 +07:00 [INF] User profile is available. Using 'C:\Users\thanh\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-06-25 01:33:50.441 +07:00 [INF] Start processing HTTP request GET https://yourdomain/api/nhanvien/haschange?since=2025-06-24T18:28:50.4168464Z
2025-06-25 01:33:50.443 +07:00 [INF] Sending HTTP request GET https://yourdomain/api/nhanvien/haschange?since=2025-06-24T18:28:50.4168464Z
2025-06-25 01:33:50.676 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost/api/danhsachcanbo - application/json; charset=utf-8 49
2025-06-25 01:33:50.701 +07:00 [WRN] Failed to determine the https port for redirect.
2025-06-25 01:33:50.733 +07:00 [INF] 
--- REQUEST ---
Time: 2025-06-25 01:33:50
Method: POST
Path: /api/danhsachcanbo
Body: {"ApiKey":"f3b9a2d4-5c1e-47d8-8a11-2e4f8a7b0c2d"}

2025-06-25 01:33:50.809 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-06-25 01:33:50.811 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-25 01:33:50.812 +07:00 [INF] 
--- RESPONSE ---
Time: 2025-06-25 01:33:50
StatusCode: 401
Body: 
-----------------

2025-06-25 01:33:50.813 +07:00 [INF] HTTP POST /api/danhsachcanbo responded 401 in 112.1927 ms
2025-06-25 01:33:50.816 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost/api/danhsachcanbo - 401 null null 141.1462ms
2025-06-25 01:33:51.229 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost/api/authen - application/json; charset=utf-8 58
2025-06-25 01:33:51.231 +07:00 [INF] 
--- REQUEST ---
Time: 2025-06-25 01:33:51
Method: POST
Path: /api/authen
Body: {"ApiKey":"sai-api-key","Username":"any","Password":"any"}

2025-06-25 01:33:51.235 +07:00 [INF] Executing endpoint 'AuthController.Post (ElearningConnector)'
2025-06-25 01:33:51.272 +07:00 [INF] Route matched with {action = "Post", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(ElearningConnector.Models.Common.AuthRequest) on controller AuthController (ElearningConnector).
2025-06-25 01:33:52.331 +07:00 [INF] Executed DbCommand (109ms) [Parameters=[@__8__locals1_request_UserName_0='?' (Size = 4000), @__hashedPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[PK_UserID], [u].[FullName], [u].[Password], [u].[UserName], [u].[UserType], [u].[isOnline]
FROM [User] AS [u]
WHERE [u].[UserName] = @__8__locals1_request_UserName_0 AND [u].[Password] = @__hashedPassword_1
2025-06-25 01:33:52.349 +07:00 [INF] Executing OkObjectResult, writing value of type 'ElearningConnector.Models.Common.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-25 01:33:52.354 +07:00 [INF] Executed action AuthController.Post (ElearningConnector) in 1080.0223ms
2025-06-25 01:33:52.354 +07:00 [INF] Executed endpoint 'AuthController.Post (ElearningConnector)'
2025-06-25 01:33:52.355 +07:00 [INF] 
--- RESPONSE ---
Time: 2025-06-25 01:33:52
StatusCode: 200
Body: {"code":"0002","message":"Tài khoản hoặc mật khẩu không chính xác","result":null}
-----------------

2025-06-25 01:33:52.357 +07:00 [INF] HTTP POST /api/authen responded 200 in 1127.0979 ms
2025-06-25 01:33:52.362 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost/api/authen - 200 null application/json; charset=utf-8 1132.7529ms
2025-06-25 01:33:52.373 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost/api/authen - application/json; charset=utf-8 45
2025-06-25 01:33:52.374 +07:00 [INF] 
--- REQUEST ---
Time: 2025-06-25 01:33:52
Method: POST
Path: /api/authen
Body: {"UserName":"youruser","PassWord":"yourpass"}

2025-06-25 01:33:52.375 +07:00 [INF] Executing endpoint 'AuthController.Post (ElearningConnector)'
2025-06-25 01:33:52.375 +07:00 [INF] Route matched with {action = "Post", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(ElearningConnector.Models.Common.AuthRequest) on controller AuthController (ElearningConnector).
2025-06-25 01:33:52.404 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__8__locals1_request_UserName_0='?' (Size = 4000), @__hashedPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[PK_UserID], [u].[FullName], [u].[Password], [u].[UserName], [u].[UserType], [u].[isOnline]
FROM [User] AS [u]
WHERE [u].[UserName] = @__8__locals1_request_UserName_0 AND [u].[Password] = @__hashedPassword_1
2025-06-25 01:33:52.405 +07:00 [INF] Executing OkObjectResult, writing value of type 'ElearningConnector.Models.Common.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-25 01:33:52.406 +07:00 [INF] Executed action AuthController.Post (ElearningConnector) in 30.3299ms
2025-06-25 01:33:52.406 +07:00 [INF] Executed endpoint 'AuthController.Post (ElearningConnector)'
2025-06-25 01:33:52.406 +07:00 [INF] 
--- RESPONSE ---
Time: 2025-06-25 01:33:52
StatusCode: 200
Body: {"code":"0002","message":"Tài khoản hoặc mật khẩu không chính xác","result":null}
-----------------

2025-06-25 01:33:52.406 +07:00 [INF] HTTP POST /api/authen responded 200 in 33.2105 ms
2025-06-25 01:33:52.406 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost/api/authen - 200 null application/json; charset=utf-8 33.6983ms
2025-06-25 01:33:52.458 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost/api/phongban - application/json; charset=utf-8 37
2025-06-25 01:33:52.459 +07:00 [INF] 
--- REQUEST ---
Time: 2025-06-25 01:33:52
Method: POST
Path: /api/phongban
Body: {"Page":1,"PageSize":5,"Keywords":""}

2025-06-25 01:33:52.461 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-06-25 01:33:52.461 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-25 01:33:52.461 +07:00 [INF] 
--- RESPONSE ---
Time: 2025-06-25 01:33:52
StatusCode: 401
Body: 
-----------------

2025-06-25 01:33:52.461 +07:00 [INF] HTTP POST /api/phongban responded 401 in 2.6190 ms
2025-06-25 01:33:52.461 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost/api/phongban - 401 null null 3.0851ms
2025-06-25 01:33:52.465 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost/api/nhanvien/haschange - null null
2025-06-25 01:33:52.467 +07:00 [INF] 
--- REQUEST ---
Time: 2025-06-25 01:33:52
Method: GET
Path: /api/nhanvien/haschange
Body: 

2025-06-25 01:33:52.467 +07:00 [INF] Executing endpoint 'ElearningConnector.Controllers.NhanVienLogController.HasChange (ElearningConnector)'
2025-06-25 01:33:52.473 +07:00 [INF] Route matched with {action = "HasChange", controller = "NhanVienLog"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult HasChange(System.DateTime) on controller ElearningConnector.Controllers.NhanVienLogController (ElearningConnector).
2025-06-25 01:33:52.572 +07:00 [INF] Executed DbCommand (26ms) [Parameters=[@__since_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [HSNV_LichSuNhanVien] AS [h]
        WHERE [h].[NgayThayDoi] > @__since_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-25 01:33:52.576 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-25 01:33:52.580 +07:00 [INF] Executed action ElearningConnector.Controllers.NhanVienLogController.HasChange (ElearningConnector) in 107.4831ms
2025-06-25 01:33:52.580 +07:00 [INF] Executed endpoint 'ElearningConnector.Controllers.NhanVienLogController.HasChange (ElearningConnector)'
2025-06-25 01:33:52.580 +07:00 [INF] 
--- RESPONSE ---
Time: 2025-06-25 01:33:52
StatusCode: 200
Body: {"hasChanged":true}
-----------------

2025-06-25 01:33:52.581 +07:00 [INF] HTTP GET /api/nhanvien/haschange responded 200 in 115.7110 ms
2025-06-25 01:33:52.581 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost/api/nhanvien/haschange - 200 null application/json; charset=utf-8 116.112ms
2025-06-25 01:33:52.582 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost/api/chucvu - application/json; charset=utf-8 49
2025-06-25 01:33:52.583 +07:00 [INF] 
--- REQUEST ---
Time: 2025-06-25 01:33:52
Method: POST
Path: /api/chucvu
Body: {"ApiKey":"f3b9a2d4-5c1e-47d8-8a11-2e4f8a7b0c2d"}

2025-06-25 01:33:52.584 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-06-25 01:33:52.584 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-25 01:33:52.584 +07:00 [INF] 
--- RESPONSE ---
Time: 2025-06-25 01:33:52
StatusCode: 401
Body: 
-----------------

2025-06-25 01:33:52.584 +07:00 [INF] HTTP POST /api/chucvu responded 401 in 1.5572 ms
2025-06-25 01:33:52.584 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost/api/chucvu - 401 null null 1.9037ms
2025-06-25 01:33:52.587 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost/api/phongban - application/json; charset=utf-8 24
2025-06-25 01:33:52.588 +07:00 [INF] 
--- REQUEST ---
Time: 2025-06-25 01:33:52
Method: POST
Path: /api/phongban
Body: {"ApiKey":"sai-api-key"}

2025-06-25 01:33:52.588 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-06-25 01:33:52.588 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-25 01:33:52.588 +07:00 [INF] 
--- RESPONSE ---
Time: 2025-06-25 01:33:52
StatusCode: 401
Body: 
-----------------

2025-06-25 01:33:52.588 +07:00 [INF] HTTP POST /api/phongban responded 401 in 0.9129 ms
2025-06-25 01:33:52.588 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost/api/phongban - 401 null null 1.3348ms
2025-06-25 01:33:52.595 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost/api/authen - application/json; charset=utf-8 35
2025-06-25 01:33:52.595 +07:00 [INF] 
--- REQUEST ---
Time: 2025-06-25 01:33:52
Method: POST
Path: /api/authen
Body: {"Username":"any","Password":"any"}

2025-06-25 01:33:52.596 +07:00 [INF] Executing endpoint 'AuthController.Post (ElearningConnector)'
2025-06-25 01:33:52.596 +07:00 [INF] Route matched with {action = "Post", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(ElearningConnector.Models.Common.AuthRequest) on controller AuthController (ElearningConnector).
2025-06-25 01:33:52.598 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals1_request_UserName_0='?' (Size = 4000), @__hashedPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[PK_UserID], [u].[FullName], [u].[Password], [u].[UserName], [u].[UserType], [u].[isOnline]
FROM [User] AS [u]
WHERE [u].[UserName] = @__8__locals1_request_UserName_0 AND [u].[Password] = @__hashedPassword_1
2025-06-25 01:33:52.599 +07:00 [INF] Executing OkObjectResult, writing value of type 'ElearningConnector.Models.Common.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-25 01:33:52.599 +07:00 [INF] Executed action AuthController.Post (ElearningConnector) in 2.9781ms
2025-06-25 01:33:52.599 +07:00 [INF] Executed endpoint 'AuthController.Post (ElearningConnector)'
2025-06-25 01:33:52.599 +07:00 [INF] 
--- RESPONSE ---
Time: 2025-06-25 01:33:52
StatusCode: 200
Body: {"code":"0002","message":"Tài khoản hoặc mật khẩu không chính xác","result":null}
-----------------

2025-06-25 01:33:52.599 +07:00 [INF] HTTP POST /api/authen responded 200 in 3.7009 ms
2025-06-25 01:33:52.599 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost/api/authen - 200 null application/json; charset=utf-8 4.0966ms
2025-06-25 01:33:52.602 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost/api/authen - application/json; charset=utf-8 45
2025-06-25 01:33:52.603 +07:00 [INF] 
--- REQUEST ---
Time: 2025-06-25 01:33:52
Method: POST
Path: /api/authen
Body: {"UserName":"youruser","PassWord":"yourpass"}

2025-06-25 01:33:52.603 +07:00 [INF] Executing endpoint 'AuthController.Post (ElearningConnector)'
2025-06-25 01:33:52.603 +07:00 [INF] Route matched with {action = "Post", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(ElearningConnector.Models.Common.AuthRequest) on controller AuthController (ElearningConnector).
2025-06-25 01:33:52.605 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals1_request_UserName_0='?' (Size = 4000), @__hashedPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[PK_UserID], [u].[FullName], [u].[Password], [u].[UserName], [u].[UserType], [u].[isOnline]
FROM [User] AS [u]
WHERE [u].[UserName] = @__8__locals1_request_UserName_0 AND [u].[Password] = @__hashedPassword_1
2025-06-25 01:33:52.605 +07:00 [INF] Executing OkObjectResult, writing value of type 'ElearningConnector.Models.Common.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-25 01:33:52.606 +07:00 [INF] Executed action AuthController.Post (ElearningConnector) in 2.679ms
2025-06-25 01:33:52.606 +07:00 [INF] Executed endpoint 'AuthController.Post (ElearningConnector)'
2025-06-25 01:33:52.606 +07:00 [INF] 
--- RESPONSE ---
Time: 2025-06-25 01:33:52
StatusCode: 200
Body: {"code":"0002","message":"Tài khoản hoặc mật khẩu không chính xác","result":null}
-----------------

2025-06-25 01:33:52.606 +07:00 [INF] HTTP POST /api/authen responded 200 in 3.2228 ms
2025-06-25 01:33:52.606 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost/api/authen - 200 null application/json; charset=utf-8 3.5787ms
2025-06-25 01:33:52.607 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost/api/danhsachcanbo - application/json; charset=utf-8 37
2025-06-25 01:33:52.607 +07:00 [INF] 
--- REQUEST ---
Time: 2025-06-25 01:33:52
Method: POST
Path: /api/danhsachcanbo
Body: {"Page":1,"PageSize":5,"Keywords":""}

2025-06-25 01:33:52.607 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-06-25 01:33:52.607 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-25 01:33:52.607 +07:00 [INF] 
--- RESPONSE ---
Time: 2025-06-25 01:33:52
StatusCode: 401
Body: 
-----------------

2025-06-25 01:33:52.607 +07:00 [INF] HTTP POST /api/danhsachcanbo responded 401 in 0.3277 ms
2025-06-25 01:33:52.607 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost/api/danhsachcanbo - 401 null null 0.6336ms
2025-06-25 01:33:52.611 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost/api/authen - application/json; charset=utf-8 45
2025-06-25 01:33:52.611 +07:00 [INF] 
--- REQUEST ---
Time: 2025-06-25 01:33:52
Method: POST
Path: /api/authen
Body: {"UserName":"youruser","PassWord":"yourpass"}

2025-06-25 01:33:52.611 +07:00 [INF] Executing endpoint 'AuthController.Post (ElearningConnector)'
2025-06-25 01:33:52.611 +07:00 [INF] Route matched with {action = "Post", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(ElearningConnector.Models.Common.AuthRequest) on controller AuthController (ElearningConnector).
2025-06-25 01:33:52.614 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals1_request_UserName_0='?' (Size = 4000), @__hashedPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[PK_UserID], [u].[FullName], [u].[Password], [u].[UserName], [u].[UserType], [u].[isOnline]
FROM [User] AS [u]
WHERE [u].[UserName] = @__8__locals1_request_UserName_0 AND [u].[Password] = @__hashedPassword_1
2025-06-25 01:33:52.614 +07:00 [INF] Executing OkObjectResult, writing value of type 'ElearningConnector.Models.Common.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-25 01:33:52.614 +07:00 [INF] Executed action AuthController.Post (ElearningConnector) in 2.9267ms
2025-06-25 01:33:52.615 +07:00 [INF] Executed endpoint 'AuthController.Post (ElearningConnector)'
2025-06-25 01:33:52.615 +07:00 [INF] 
--- RESPONSE ---
Time: 2025-06-25 01:33:52
StatusCode: 200
Body: {"code":"0002","message":"Tài khoản hoặc mật khẩu không chính xác","result":null}
-----------------

2025-06-25 01:33:52.615 +07:00 [INF] HTTP POST /api/authen responded 200 in 3.5899 ms
2025-06-25 01:33:52.615 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost/api/authen - 200 null application/json; charset=utf-8 3.9258ms
2025-06-25 01:33:52.615 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost/api/chucvu - application/json; charset=utf-8 37
2025-06-25 01:33:52.616 +07:00 [INF] 
--- REQUEST ---
Time: 2025-06-25 01:33:52
Method: POST
Path: /api/chucvu
Body: {"Page":1,"PageSize":5,"Keywords":""}

2025-06-25 01:33:52.616 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-06-25 01:33:52.616 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-25 01:33:52.616 +07:00 [INF] 
--- RESPONSE ---
Time: 2025-06-25 01:33:52
StatusCode: 401
Body: 
-----------------

2025-06-25 01:33:52.616 +07:00 [INF] HTTP POST /api/chucvu responded 401 in 0.4143 ms
2025-06-25 01:33:52.616 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost/api/chucvu - 401 null null 0.6526ms
2025-06-25 01:33:52.619 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost/api/authen - application/json; charset=utf-8 95
2025-06-25 01:33:52.619 +07:00 [INF] 
--- REQUEST ---
Time: 2025-06-25 01:33:52
Method: POST
Path: /api/authen
Body: {"ApiKey":"f3b9a2d4-5c1e-47d8-8a11-2e4f8a7b0c2d","Username":"phuongloan","Password":"thanh123"}

2025-06-25 01:33:52.620 +07:00 [INF] Executing endpoint 'AuthController.Post (ElearningConnector)'
2025-06-25 01:33:52.620 +07:00 [INF] Route matched with {action = "Post", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(ElearningConnector.Models.Common.AuthRequest) on controller AuthController (ElearningConnector).
2025-06-25 01:33:52.622 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals1_request_UserName_0='?' (Size = 4000), @__hashedPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[PK_UserID], [u].[FullName], [u].[Password], [u].[UserName], [u].[UserType], [u].[isOnline]
FROM [User] AS [u]
WHERE [u].[UserName] = @__8__locals1_request_UserName_0 AND [u].[Password] = @__hashedPassword_1
2025-06-25 01:33:52.687 +07:00 [INF] Executing OkObjectResult, writing value of type 'ElearningConnector.Models.Common.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-25 01:33:52.687 +07:00 [INF] Executed action AuthController.Post (ElearningConnector) in 67.6783ms
2025-06-25 01:33:52.687 +07:00 [INF] Executed endpoint 'AuthController.Post (ElearningConnector)'
2025-06-25 01:33:52.687 +07:00 [INF] 
--- RESPONSE ---
Time: 2025-06-25 01:33:52
StatusCode: 200
Body: {"code":"0000","message":"Đăng nhập thành công","result":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoicGh1b25nbG9hbiIsIlVzZXJJZCI6IjgiLCJVc2VyVHlwZSI6IjEiLCJleHAiOjE3NTA3OTcyMzIsImlzcyI6IkVsZWFybmluZ0Nvbm5lY3RvciIsImF1ZCI6IkVsZWFybmluZ0Nvbm5lY3RvclVzZXJzIn0.LnvPouaQ0Bcj51D2Pv4diKRK20irZTP_ldqAC0kFQyg"}
-----------------

2025-06-25 01:33:52.688 +07:00 [INF] HTTP POST /api/authen responded 200 in 68.2270 ms
2025-06-25 01:33:52.688 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost/api/authen - 200 null application/json; charset=utf-8 68.565ms
2025-06-25 01:33:52.690 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost/api/authen - application/json; charset=utf-8 91
2025-06-25 01:33:52.690 +07:00 [INF] 
--- REQUEST ---
Time: 2025-06-25 01:33:52
Method: POST
Path: /api/authen
Body: {"ApiKey":"f3b9a2d4-5c1e-47d8-8a11-2e4f8a7b0c2d","Username":"saiuser","Password":"saipass"}

2025-06-25 01:33:52.690 +07:00 [INF] Executing endpoint 'AuthController.Post (ElearningConnector)'
2025-06-25 01:33:52.690 +07:00 [INF] Route matched with {action = "Post", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(ElearningConnector.Models.Common.AuthRequest) on controller AuthController (ElearningConnector).
2025-06-25 01:33:52.694 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals1_request_UserName_0='?' (Size = 4000), @__hashedPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[PK_UserID], [u].[FullName], [u].[Password], [u].[UserName], [u].[UserType], [u].[isOnline]
FROM [User] AS [u]
WHERE [u].[UserName] = @__8__locals1_request_UserName_0 AND [u].[Password] = @__hashedPassword_1
2025-06-25 01:33:52.694 +07:00 [INF] Executing OkObjectResult, writing value of type 'ElearningConnector.Models.Common.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-25 01:33:52.694 +07:00 [INF] Executed action AuthController.Post (ElearningConnector) in 3.8974ms
2025-06-25 01:33:52.695 +07:00 [INF] Executed endpoint 'AuthController.Post (ElearningConnector)'
2025-06-25 01:33:52.695 +07:00 [INF] 
--- RESPONSE ---
Time: 2025-06-25 01:33:52
StatusCode: 200
Body: {"code":"0002","message":"Tài khoản hoặc mật khẩu không chính xác","result":null}
-----------------

2025-06-25 01:33:52.695 +07:00 [INF] HTTP POST /api/authen responded 200 in 5.2509 ms
2025-06-25 01:33:52.696 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost/api/authen - 200 null application/json; charset=utf-8 5.8932ms
2025-06-25 01:33:52.698 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost/api/chucvu - application/json; charset=utf-8 24
2025-06-25 01:33:52.698 +07:00 [INF] 
--- REQUEST ---
Time: 2025-06-25 01:33:52
Method: POST
Path: /api/chucvu
Body: {"ApiKey":"sai-api-key"}

2025-06-25 01:33:52.698 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-06-25 01:33:52.698 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-25 01:33:52.698 +07:00 [INF] 
--- RESPONSE ---
Time: 2025-06-25 01:33:52
StatusCode: 401
Body: 
-----------------

2025-06-25 01:33:52.698 +07:00 [INF] HTTP POST /api/chucvu responded 401 in 0.4464 ms
2025-06-25 01:33:52.698 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost/api/chucvu - 401 null null 0.7739ms
2025-06-25 01:33:52.718 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost/api/danhsachcanbo - application/json; charset=utf-8 24
2025-06-25 01:33:52.718 +07:00 [INF] 
--- REQUEST ---
Time: 2025-06-25 01:33:52
Method: POST
Path: /api/danhsachcanbo
Body: {"ApiKey":"sai-api-key"}

2025-06-25 01:33:52.719 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-06-25 01:33:52.719 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-25 01:33:52.719 +07:00 [INF] 
--- RESPONSE ---
Time: 2025-06-25 01:33:52
StatusCode: 401
Body: 
-----------------

2025-06-25 01:33:52.719 +07:00 [INF] HTTP POST /api/danhsachcanbo responded 401 in 0.6756 ms
2025-06-25 01:33:52.719 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost/api/danhsachcanbo - 401 null null 1.075ms
2025-06-25 01:33:52.723 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost/api/phongban - application/json; charset=utf-8 49
2025-06-25 01:33:52.723 +07:00 [INF] 
--- REQUEST ---
Time: 2025-06-25 01:33:52
Method: POST
Path: /api/phongban
Body: {"ApiKey":"f3b9a2d4-5c1e-47d8-8a11-2e4f8a7b0c2d"}

2025-06-25 01:33:52.723 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-06-25 01:33:52.723 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-25 01:33:52.723 +07:00 [INF] 
--- RESPONSE ---
Time: 2025-06-25 01:33:52
StatusCode: 401
Body: 
-----------------

2025-06-25 01:33:52.723 +07:00 [INF] HTTP POST /api/phongban responded 401 in 0.5420 ms
2025-06-25 01:33:52.723 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost/api/phongban - 401 null null 0.9615ms
2025-06-25 01:33:52.734 +07:00 [ERR] [NhanVienChangeChecker] Gửi thông báo thất bại do exception
System.Threading.Tasks.TaskCanceledException: A task was canceled.
 ---> System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.<SendCoreAsync>g__Core|5_0(HttpRequestMessage request, Boolean useAsync, CancellationToken cancellationToken)
   at Microsoft.Extensions.Http.Logging.LoggingScopeHttpMessageHandler.<SendCoreAsync>g__Core|5_0(HttpRequestMessage request, Boolean useAsync, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpClient.HandleFailure(Exception e, Boolean telemetryStarted, HttpResponseMessage response, CancellationTokenSource cts, CancellationToken cancellationToken, CancellationTokenSource pendingRequestsCts)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at ElearningConnector.BackgroundServices.NhanVienChangeChecker.ExecuteAsync(CancellationToken stoppingToken) in C:\Users\thanh\source\repos\ElearningConnector\ElearningConnector\BackgroundServices\NhanVienChangeChecker.cs:line 38
2025-06-25 01:48:51.406 +07:00 [INF] User profile is available. Using 'C:\Users\thanh\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-06-25 01:48:51.483 +07:00 [INF] Start processing HTTP request GET https://yourdomain/api/nhanvien/haschange?since=2025-06-24T18:43:51.4404759Z
2025-06-25 01:48:51.485 +07:00 [INF] Sending HTTP request GET https://yourdomain/api/nhanvien/haschange?since=2025-06-24T18:43:51.4404759Z
2025-06-25 01:48:51.720 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost/api/danhsachcanbo - application/json; charset=utf-8 49
2025-06-25 01:48:51.742 +07:00 [WRN] Failed to determine the https port for redirect.
2025-06-25 01:48:51.770 +07:00 [INF] 
--- REQUEST ---
Time: 2025-06-25 01:48:51
Method: POST
Path: /api/danhsachcanbo
Body: {"ApiKey":"f3b9a2d4-5c1e-47d8-8a11-2e4f8a7b0c2d"}

2025-06-25 01:48:51.827 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-06-25 01:48:51.831 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-25 01:48:51.831 +07:00 [INF] 
--- RESPONSE ---
Time: 2025-06-25 01:48:51
StatusCode: 401
Body: 
-----------------

2025-06-25 01:48:51.833 +07:00 [INF] HTTP POST /api/danhsachcanbo responded 401 in 91.4268 ms
2025-06-25 01:48:51.837 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost/api/danhsachcanbo - 401 null null 118.611ms
2025-06-25 01:48:52.116 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost/api/authen - application/json; charset=utf-8 58
2025-06-25 01:48:52.118 +07:00 [INF] 
--- REQUEST ---
Time: 2025-06-25 01:48:52
Method: POST
Path: /api/authen
Body: {"ApiKey":"sai-api-key","Username":"any","Password":"any"}

2025-06-25 01:48:52.121 +07:00 [INF] Executing endpoint 'AuthController.Post (ElearningConnector)'
2025-06-25 01:48:52.151 +07:00 [INF] Route matched with {action = "Post", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(ElearningConnector.Models.Common.AuthRequest) on controller AuthController (ElearningConnector).
2025-06-25 01:48:53.208 +07:00 [INF] Executed DbCommand (116ms) [Parameters=[@__8__locals1_request_UserName_0='?' (Size = 4000), @__hashedPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[PK_UserID], [u].[FullName], [u].[Password], [u].[UserName], [u].[UserType], [u].[isOnline]
FROM [User] AS [u]
WHERE [u].[UserName] = @__8__locals1_request_UserName_0 AND [u].[Password] = @__hashedPassword_1
2025-06-25 01:48:53.225 +07:00 [INF] Executing OkObjectResult, writing value of type 'ElearningConnector.Models.Common.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-25 01:48:53.234 +07:00 [INF] Executed action AuthController.Post (ElearningConnector) in 1080.2633ms
2025-06-25 01:48:53.234 +07:00 [INF] Executed endpoint 'AuthController.Post (ElearningConnector)'
2025-06-25 01:48:53.235 +07:00 [INF] 
--- RESPONSE ---
Time: 2025-06-25 01:48:53
StatusCode: 200
Body: {"code":"0002","message":"Tài khoản hoặc mật khẩu không chính xác","result":null}
-----------------

2025-06-25 01:48:53.237 +07:00 [INF] HTTP POST /api/authen responded 200 in 1120.1502 ms
2025-06-25 01:48:53.242 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost/api/authen - 200 null application/json; charset=utf-8 1126.638ms
2025-06-25 01:48:53.255 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost/api/authen - application/json; charset=utf-8 45
2025-06-25 01:48:53.256 +07:00 [INF] 
--- REQUEST ---
Time: 2025-06-25 01:48:53
Method: POST
Path: /api/authen
Body: {"UserName":"youruser","PassWord":"yourpass"}

2025-06-25 01:48:53.257 +07:00 [INF] Executing endpoint 'AuthController.Post (ElearningConnector)'
2025-06-25 01:48:53.257 +07:00 [INF] Route matched with {action = "Post", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(ElearningConnector.Models.Common.AuthRequest) on controller AuthController (ElearningConnector).
2025-06-25 01:48:53.285 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__8__locals1_request_UserName_0='?' (Size = 4000), @__hashedPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[PK_UserID], [u].[FullName], [u].[Password], [u].[UserName], [u].[UserType], [u].[isOnline]
FROM [User] AS [u]
WHERE [u].[UserName] = @__8__locals1_request_UserName_0 AND [u].[Password] = @__hashedPassword_1
2025-06-25 01:48:53.286 +07:00 [INF] Executing OkObjectResult, writing value of type 'ElearningConnector.Models.Common.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-25 01:48:53.286 +07:00 [INF] Executed action AuthController.Post (ElearningConnector) in 28.8307ms
2025-06-25 01:48:53.286 +07:00 [INF] Executed endpoint 'AuthController.Post (ElearningConnector)'
2025-06-25 01:48:53.286 +07:00 [INF] 
--- RESPONSE ---
Time: 2025-06-25 01:48:53
StatusCode: 200
Body: {"code":"0002","message":"Tài khoản hoặc mật khẩu không chính xác","result":null}
-----------------

2025-06-25 01:48:53.286 +07:00 [INF] HTTP POST /api/authen responded 200 in 31.3865 ms
2025-06-25 01:48:53.287 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost/api/authen - 200 null application/json; charset=utf-8 31.9476ms
2025-06-25 01:48:53.336 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost/api/phongban - application/json; charset=utf-8 37
2025-06-25 01:48:53.337 +07:00 [INF] 
--- REQUEST ---
Time: 2025-06-25 01:48:53
Method: POST
Path: /api/phongban
Body: {"Page":1,"PageSize":5,"Keywords":""}

2025-06-25 01:48:53.338 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-06-25 01:48:53.338 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-25 01:48:53.338 +07:00 [INF] 
--- RESPONSE ---
Time: 2025-06-25 01:48:53
StatusCode: 401
Body: 
-----------------

2025-06-25 01:48:53.338 +07:00 [INF] HTTP POST /api/phongban responded 401 in 1.6882 ms
2025-06-25 01:48:53.338 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost/api/phongban - 401 null null 1.941ms
2025-06-25 01:48:53.342 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost/api/nhanvien/haschange - null null
2025-06-25 01:48:53.343 +07:00 [INF] 
--- REQUEST ---
Time: 2025-06-25 01:48:53
Method: GET
Path: /api/nhanvien/haschange
Body: 

2025-06-25 01:48:53.344 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-06-25 01:48:53.344 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-25 01:48:53.344 +07:00 [INF] 
--- RESPONSE ---
Time: 2025-06-25 01:48:53
StatusCode: 401
Body: 
-----------------

2025-06-25 01:48:53.344 +07:00 [INF] HTTP GET /api/nhanvien/haschange responded 401 in 2.6348 ms
2025-06-25 01:48:53.345 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost/api/nhanvien/haschange - 401 null null 3.148ms
2025-06-25 01:48:53.348 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost/api/chucvu - application/json; charset=utf-8 49
2025-06-25 01:48:53.349 +07:00 [INF] 
--- REQUEST ---
Time: 2025-06-25 01:48:53
Method: POST
Path: /api/chucvu
Body: {"ApiKey":"f3b9a2d4-5c1e-47d8-8a11-2e4f8a7b0c2d"}

2025-06-25 01:48:53.349 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-06-25 01:48:53.349 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-25 01:48:53.349 +07:00 [INF] 
--- RESPONSE ---
Time: 2025-06-25 01:48:53
StatusCode: 401
Body: 
-----------------

2025-06-25 01:48:53.349 +07:00 [INF] HTTP POST /api/chucvu responded 401 in 0.7390 ms
2025-06-25 01:48:53.349 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost/api/chucvu - 401 null null 1.1625ms
2025-06-25 01:48:53.352 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost/api/phongban - application/json; charset=utf-8 24
2025-06-25 01:48:53.352 +07:00 [INF] 
--- REQUEST ---
Time: 2025-06-25 01:48:53
Method: POST
Path: /api/phongban
Body: {"ApiKey":"sai-api-key"}

2025-06-25 01:48:53.353 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-06-25 01:48:53.353 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-25 01:48:53.353 +07:00 [INF] 
--- RESPONSE ---
Time: 2025-06-25 01:48:53
StatusCode: 401
Body: 
-----------------

2025-06-25 01:48:53.353 +07:00 [INF] HTTP POST /api/phongban responded 401 in 0.5261 ms
2025-06-25 01:48:53.353 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost/api/phongban - 401 null null 0.865ms
2025-06-25 01:48:53.359 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost/api/authen - application/json; charset=utf-8 35
2025-06-25 01:48:53.359 +07:00 [INF] 
--- REQUEST ---
Time: 2025-06-25 01:48:53
Method: POST
Path: /api/authen
Body: {"Username":"any","Password":"any"}

2025-06-25 01:48:53.359 +07:00 [INF] Executing endpoint 'AuthController.Post (ElearningConnector)'
2025-06-25 01:48:53.360 +07:00 [INF] Route matched with {action = "Post", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(ElearningConnector.Models.Common.AuthRequest) on controller AuthController (ElearningConnector).
2025-06-25 01:48:53.415 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals1_request_UserName_0='?' (Size = 4000), @__hashedPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[PK_UserID], [u].[FullName], [u].[Password], [u].[UserName], [u].[UserType], [u].[isOnline]
FROM [User] AS [u]
WHERE [u].[UserName] = @__8__locals1_request_UserName_0 AND [u].[Password] = @__hashedPassword_1
2025-06-25 01:48:53.415 +07:00 [INF] Executing OkObjectResult, writing value of type 'ElearningConnector.Models.Common.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-25 01:48:53.415 +07:00 [INF] Executed action AuthController.Post (ElearningConnector) in 55.5473ms
2025-06-25 01:48:53.415 +07:00 [INF] Executed endpoint 'AuthController.Post (ElearningConnector)'
2025-06-25 01:48:53.415 +07:00 [INF] 
--- RESPONSE ---
Time: 2025-06-25 01:48:53
StatusCode: 200
Body: {"code":"0002","message":"Tài khoản hoặc mật khẩu không chính xác","result":null}
-----------------

2025-06-25 01:48:53.415 +07:00 [INF] HTTP POST /api/authen responded 200 in 56.3308 ms
2025-06-25 01:48:53.415 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost/api/authen - 200 null application/json; charset=utf-8 56.6878ms
2025-06-25 01:48:53.419 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost/api/authen - application/json; charset=utf-8 45
2025-06-25 01:48:53.419 +07:00 [INF] 
--- REQUEST ---
Time: 2025-06-25 01:48:53
Method: POST
Path: /api/authen
Body: {"UserName":"youruser","PassWord":"yourpass"}

2025-06-25 01:48:53.419 +07:00 [INF] Executing endpoint 'AuthController.Post (ElearningConnector)'
2025-06-25 01:48:53.419 +07:00 [INF] Route matched with {action = "Post", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(ElearningConnector.Models.Common.AuthRequest) on controller AuthController (ElearningConnector).
2025-06-25 01:48:53.423 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals1_request_UserName_0='?' (Size = 4000), @__hashedPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[PK_UserID], [u].[FullName], [u].[Password], [u].[UserName], [u].[UserType], [u].[isOnline]
FROM [User] AS [u]
WHERE [u].[UserName] = @__8__locals1_request_UserName_0 AND [u].[Password] = @__hashedPassword_1
2025-06-25 01:48:53.423 +07:00 [INF] Executing OkObjectResult, writing value of type 'ElearningConnector.Models.Common.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-25 01:48:53.423 +07:00 [INF] Executed action AuthController.Post (ElearningConnector) in 4.1562ms
2025-06-25 01:48:53.424 +07:00 [INF] Executed endpoint 'AuthController.Post (ElearningConnector)'
2025-06-25 01:48:53.424 +07:00 [INF] 
--- RESPONSE ---
Time: 2025-06-25 01:48:53
StatusCode: 200
Body: {"code":"0002","message":"Tài khoản hoặc mật khẩu không chính xác","result":null}
-----------------

2025-06-25 01:48:53.424 +07:00 [INF] HTTP POST /api/authen responded 200 in 4.9394 ms
2025-06-25 01:48:53.424 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost/api/authen - 200 null application/json; charset=utf-8 5.5464ms
2025-06-25 01:48:53.425 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost/api/danhsachcanbo - application/json; charset=utf-8 37
2025-06-25 01:48:53.425 +07:00 [INF] 
--- REQUEST ---
Time: 2025-06-25 01:48:53
Method: POST
Path: /api/danhsachcanbo
Body: {"Page":1,"PageSize":5,"Keywords":""}

2025-06-25 01:48:53.425 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-06-25 01:48:53.426 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-25 01:48:53.426 +07:00 [INF] 
--- RESPONSE ---
Time: 2025-06-25 01:48:53
StatusCode: 401
Body: 
-----------------

2025-06-25 01:48:53.426 +07:00 [INF] HTTP POST /api/danhsachcanbo responded 401 in 0.8759 ms
2025-06-25 01:48:53.426 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost/api/danhsachcanbo - 401 null null 1.1506ms
2025-06-25 01:48:53.429 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost/api/authen - application/json; charset=utf-8 45
2025-06-25 01:48:53.429 +07:00 [INF] 
--- REQUEST ---
Time: 2025-06-25 01:48:53
Method: POST
Path: /api/authen
Body: {"UserName":"youruser","PassWord":"yourpass"}

2025-06-25 01:48:53.429 +07:00 [INF] Executing endpoint 'AuthController.Post (ElearningConnector)'
2025-06-25 01:48:53.430 +07:00 [INF] Route matched with {action = "Post", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(ElearningConnector.Models.Common.AuthRequest) on controller AuthController (ElearningConnector).
2025-06-25 01:48:53.432 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals1_request_UserName_0='?' (Size = 4000), @__hashedPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[PK_UserID], [u].[FullName], [u].[Password], [u].[UserName], [u].[UserType], [u].[isOnline]
FROM [User] AS [u]
WHERE [u].[UserName] = @__8__locals1_request_UserName_0 AND [u].[Password] = @__hashedPassword_1
2025-06-25 01:48:53.432 +07:00 [INF] Executing OkObjectResult, writing value of type 'ElearningConnector.Models.Common.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-25 01:48:53.432 +07:00 [INF] Executed action AuthController.Post (ElearningConnector) in 2.5162ms
2025-06-25 01:48:53.432 +07:00 [INF] Executed endpoint 'AuthController.Post (ElearningConnector)'
2025-06-25 01:48:53.432 +07:00 [INF] 
--- RESPONSE ---
Time: 2025-06-25 01:48:53
StatusCode: 200
Body: {"code":"0002","message":"Tài khoản hoặc mật khẩu không chính xác","result":null}
-----------------

2025-06-25 01:48:53.432 +07:00 [INF] HTTP POST /api/authen responded 200 in 3.1077 ms
2025-06-25 01:48:53.432 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost/api/authen - 200 null application/json; charset=utf-8 3.4567ms
2025-06-25 01:48:53.433 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost/api/chucvu - application/json; charset=utf-8 37
2025-06-25 01:48:53.433 +07:00 [INF] 
--- REQUEST ---
Time: 2025-06-25 01:48:53
Method: POST
Path: /api/chucvu
Body: {"Page":1,"PageSize":5,"Keywords":""}

2025-06-25 01:48:53.433 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-06-25 01:48:53.433 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-25 01:48:53.434 +07:00 [INF] 
--- RESPONSE ---
Time: 2025-06-25 01:48:53
StatusCode: 401
Body: 
-----------------

2025-06-25 01:48:53.434 +07:00 [INF] HTTP POST /api/chucvu responded 401 in 0.3841 ms
2025-06-25 01:48:53.434 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost/api/chucvu - 401 null null 0.6299ms
2025-06-25 01:48:53.437 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost/api/authen - application/json; charset=utf-8 95
2025-06-25 01:48:53.437 +07:00 [INF] 
--- REQUEST ---
Time: 2025-06-25 01:48:53
Method: POST
Path: /api/authen
Body: {"ApiKey":"f3b9a2d4-5c1e-47d8-8a11-2e4f8a7b0c2d","Username":"phuongloan","Password":"thanh123"}

2025-06-25 01:48:53.438 +07:00 [INF] Executing endpoint 'AuthController.Post (ElearningConnector)'
2025-06-25 01:48:53.438 +07:00 [INF] Route matched with {action = "Post", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(ElearningConnector.Models.Common.AuthRequest) on controller AuthController (ElearningConnector).
2025-06-25 01:48:53.441 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals1_request_UserName_0='?' (Size = 4000), @__hashedPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[PK_UserID], [u].[FullName], [u].[Password], [u].[UserName], [u].[UserType], [u].[isOnline]
FROM [User] AS [u]
WHERE [u].[UserName] = @__8__locals1_request_UserName_0 AND [u].[Password] = @__hashedPassword_1
2025-06-25 01:48:53.505 +07:00 [INF] Executing OkObjectResult, writing value of type 'ElearningConnector.Models.Common.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-25 01:48:53.505 +07:00 [INF] Executed action AuthController.Post (ElearningConnector) in 67.2143ms
2025-06-25 01:48:53.505 +07:00 [INF] Executed endpoint 'AuthController.Post (ElearningConnector)'
2025-06-25 01:48:53.505 +07:00 [INF] 
--- RESPONSE ---
Time: 2025-06-25 01:48:53
StatusCode: 200
Body: {"code":"0000","message":"Đăng nhập thành công","result":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoicGh1b25nbG9hbiIsIlVzZXJJZCI6IjgiLCJVc2VyVHlwZSI6IjEiLCJleHAiOjE3NTA3OTgxMzMsImlzcyI6IkVsZWFybmluZ0Nvbm5lY3RvciIsImF1ZCI6IkVsZWFybmluZ0Nvbm5lY3RvclVzZXJzIn0.-P2d31NrjV7qLF9i2dQFLJOjfkQ2Sgntblt-qx-yteE"}
-----------------

2025-06-25 01:48:53.505 +07:00 [INF] HTTP POST /api/authen responded 200 in 68.2883 ms
2025-06-25 01:48:53.505 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost/api/authen - 200 null application/json; charset=utf-8 68.6561ms
2025-06-25 01:48:53.507 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost/api/authen - application/json; charset=utf-8 91
2025-06-25 01:48:53.507 +07:00 [INF] 
--- REQUEST ---
Time: 2025-06-25 01:48:53
Method: POST
Path: /api/authen
Body: {"ApiKey":"f3b9a2d4-5c1e-47d8-8a11-2e4f8a7b0c2d","Username":"saiuser","Password":"saipass"}

2025-06-25 01:48:53.507 +07:00 [INF] Executing endpoint 'AuthController.Post (ElearningConnector)'
2025-06-25 01:48:53.507 +07:00 [INF] Route matched with {action = "Post", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(ElearningConnector.Models.Common.AuthRequest) on controller AuthController (ElearningConnector).
2025-06-25 01:48:53.509 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals1_request_UserName_0='?' (Size = 4000), @__hashedPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[PK_UserID], [u].[FullName], [u].[Password], [u].[UserName], [u].[UserType], [u].[isOnline]
FROM [User] AS [u]
WHERE [u].[UserName] = @__8__locals1_request_UserName_0 AND [u].[Password] = @__hashedPassword_1
2025-06-25 01:48:53.509 +07:00 [INF] Executing OkObjectResult, writing value of type 'ElearningConnector.Models.Common.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-25 01:48:53.510 +07:00 [INF] Executed action AuthController.Post (ElearningConnector) in 2.1078ms
2025-06-25 01:48:53.510 +07:00 [INF] Executed endpoint 'AuthController.Post (ElearningConnector)'
2025-06-25 01:48:53.510 +07:00 [INF] 
--- RESPONSE ---
Time: 2025-06-25 01:48:53
StatusCode: 200
Body: {"code":"0002","message":"Tài khoản hoặc mật khẩu không chính xác","result":null}
-----------------

2025-06-25 01:48:53.510 +07:00 [INF] HTTP POST /api/authen responded 200 in 2.5714 ms
2025-06-25 01:48:53.510 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost/api/authen - 200 null application/json; charset=utf-8 2.8406ms
2025-06-25 01:48:53.511 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost/api/chucvu - application/json; charset=utf-8 24
2025-06-25 01:48:53.512 +07:00 [INF] 
--- REQUEST ---
Time: 2025-06-25 01:48:53
Method: POST
Path: /api/chucvu
Body: {"ApiKey":"sai-api-key"}

2025-06-25 01:48:53.512 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-06-25 01:48:53.512 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-25 01:48:53.512 +07:00 [INF] 
--- RESPONSE ---
Time: 2025-06-25 01:48:53
StatusCode: 401
Body: 
-----------------

2025-06-25 01:48:53.512 +07:00 [INF] HTTP POST /api/chucvu responded 401 in 0.3806 ms
2025-06-25 01:48:53.512 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost/api/chucvu - 401 null null 0.7113ms
2025-06-25 01:48:53.532 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost/api/danhsachcanbo - application/json; charset=utf-8 24
2025-06-25 01:48:53.532 +07:00 [INF] 
--- REQUEST ---
Time: 2025-06-25 01:48:53
Method: POST
Path: /api/danhsachcanbo
Body: {"ApiKey":"sai-api-key"}

2025-06-25 01:48:53.532 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-06-25 01:48:53.533 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-25 01:48:53.533 +07:00 [INF] 
--- RESPONSE ---
Time: 2025-06-25 01:48:53
StatusCode: 401
Body: 
-----------------

2025-06-25 01:48:53.533 +07:00 [INF] HTTP POST /api/danhsachcanbo responded 401 in 0.9376 ms
2025-06-25 01:48:53.533 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost/api/danhsachcanbo - 401 null null 1.4487ms
2025-06-25 01:48:53.537 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost/api/phongban - application/json; charset=utf-8 49
2025-06-25 01:48:53.537 +07:00 [INF] 
--- REQUEST ---
Time: 2025-06-25 01:48:53
Method: POST
Path: /api/phongban
Body: {"ApiKey":"f3b9a2d4-5c1e-47d8-8a11-2e4f8a7b0c2d"}

2025-06-25 01:48:53.537 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-06-25 01:48:53.537 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-25 01:48:53.537 +07:00 [INF] 
--- RESPONSE ---
Time: 2025-06-25 01:48:53
StatusCode: 401
Body: 
-----------------

2025-06-25 01:48:53.537 +07:00 [INF] HTTP POST /api/phongban responded 401 in 0.3844 ms
2025-06-25 01:48:53.537 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost/api/phongban - 401 null null 0.7621ms
2025-06-25 01:48:53.548 +07:00 [ERR] [NhanVienChangeChecker] Gửi thông báo thất bại do exception
System.Threading.Tasks.TaskCanceledException: A task was canceled.
 ---> System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.<SendCoreAsync>g__Core|5_0(HttpRequestMessage request, Boolean useAsync, CancellationToken cancellationToken)
   at Microsoft.Extensions.Http.Logging.LoggingScopeHttpMessageHandler.<SendCoreAsync>g__Core|5_0(HttpRequestMessage request, Boolean useAsync, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpClient.HandleFailure(Exception e, Boolean telemetryStarted, HttpResponseMessage response, CancellationTokenSource cts, CancellationToken cancellationToken, CancellationTokenSource pendingRequestsCts)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at ElearningConnector.BackgroundServices.NhanVienChangeChecker.ExecuteAsync(CancellationToken stoppingToken) in C:\Users\thanh\source\repos\ElearningConnector\ElearningConnector\BackgroundServices\NhanVienChangeChecker.cs:line 39
2025-06-25 01:59:09.954 +07:00 [INF] User profile is available. Using 'C:\Users\thanh\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-06-25 01:59:10.029 +07:00 [INF] Start processing HTTP request GET https://yourdomain/api/nhanvien/haschange?since=2025-06-24T18:54:09.9839581Z
2025-06-25 01:59:10.031 +07:00 [INF] Sending HTTP request GET https://yourdomain/api/nhanvien/haschange?since=2025-06-24T18:54:09.9839581Z
2025-06-25 01:59:10.252 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost/api/danhsachcanbo - application/json; charset=utf-8 49
2025-06-25 01:59:10.276 +07:00 [WRN] Failed to determine the https port for redirect.
2025-06-25 01:59:10.295 +07:00 [INF] 
--- REQUEST ---
Time: 2025-06-25 01:59:10
Method: POST
Path: /api/danhsachcanbo
Body: {"ApiKey":"f3b9a2d4-5c1e-47d8-8a11-2e4f8a7b0c2d"}

2025-06-25 01:59:10.341 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-06-25 01:59:10.343 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-25 01:59:10.344 +07:00 [INF] 
--- RESPONSE ---
Time: 2025-06-25 01:59:10
StatusCode: 401
Body: 
-----------------

2025-06-25 01:59:10.345 +07:00 [INF] HTTP POST /api/danhsachcanbo responded 401 in 69.7361 ms
2025-06-25 01:59:10.350 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost/api/danhsachcanbo - 401 null null 99.47ms
2025-06-25 01:59:10.643 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost/api/authen - application/json; charset=utf-8 58
2025-06-25 01:59:10.645 +07:00 [INF] 
--- REQUEST ---
Time: 2025-06-25 01:59:10
Method: POST
Path: /api/authen
Body: {"ApiKey":"sai-api-key","Username":"any","Password":"any"}

2025-06-25 01:59:10.649 +07:00 [INF] Executing endpoint 'AuthController.Post (ElearningConnector)'
2025-06-25 01:59:10.678 +07:00 [INF] Route matched with {action = "Post", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(ElearningConnector.Models.Common.AuthRequest) on controller AuthController (ElearningConnector).
2025-06-25 01:59:11.775 +07:00 [INF] Executed DbCommand (87ms) [Parameters=[@__8__locals1_request_UserName_0='?' (Size = 4000), @__hashedPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[PK_UserID], [u].[FullName], [u].[Password], [u].[UserName], [u].[UserType], [u].[isOnline]
FROM [User] AS [u]
WHERE [u].[UserName] = @__8__locals1_request_UserName_0 AND [u].[Password] = @__hashedPassword_1
2025-06-25 01:59:11.795 +07:00 [INF] Executing OkObjectResult, writing value of type 'ElearningConnector.Models.Common.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-25 01:59:11.802 +07:00 [INF] Executed action AuthController.Post (ElearningConnector) in 1121.6298ms
2025-06-25 01:59:11.803 +07:00 [INF] Executed endpoint 'AuthController.Post (ElearningConnector)'
2025-06-25 01:59:11.803 +07:00 [INF] 
--- RESPONSE ---
Time: 2025-06-25 01:59:11
StatusCode: 200
Body: {"code":"0002","message":"Tài khoản hoặc mật khẩu không chính xác","result":null}
-----------------

2025-06-25 01:59:11.805 +07:00 [INF] HTTP POST /api/authen responded 200 in 1161.2192 ms
2025-06-25 01:59:11.812 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost/api/authen - 200 null application/json; charset=utf-8 1169.0176ms
2025-06-25 01:59:11.822 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost/api/authen - application/json; charset=utf-8 45
2025-06-25 01:59:11.823 +07:00 [INF] 
--- REQUEST ---
Time: 2025-06-25 01:59:11
Method: POST
Path: /api/authen
Body: {"UserName":"youruser","PassWord":"yourpass"}

2025-06-25 01:59:11.824 +07:00 [INF] Executing endpoint 'AuthController.Post (ElearningConnector)'
2025-06-25 01:59:11.825 +07:00 [INF] Route matched with {action = "Post", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(ElearningConnector.Models.Common.AuthRequest) on controller AuthController (ElearningConnector).
2025-06-25 01:59:11.864 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__8__locals1_request_UserName_0='?' (Size = 4000), @__hashedPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[PK_UserID], [u].[FullName], [u].[Password], [u].[UserName], [u].[UserType], [u].[isOnline]
FROM [User] AS [u]
WHERE [u].[UserName] = @__8__locals1_request_UserName_0 AND [u].[Password] = @__hashedPassword_1
2025-06-25 01:59:11.865 +07:00 [INF] Executing OkObjectResult, writing value of type 'ElearningConnector.Models.Common.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-25 01:59:11.866 +07:00 [INF] Executed action AuthController.Post (ElearningConnector) in 40.2243ms
2025-06-25 01:59:11.866 +07:00 [INF] Executed endpoint 'AuthController.Post (ElearningConnector)'
2025-06-25 01:59:11.866 +07:00 [INF] 
--- RESPONSE ---
Time: 2025-06-25 01:59:11
StatusCode: 200
Body: {"code":"0002","message":"Tài khoản hoặc mật khẩu không chính xác","result":null}
-----------------

2025-06-25 01:59:11.866 +07:00 [INF] HTTP POST /api/authen responded 200 in 43.7642 ms
2025-06-25 01:59:11.866 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost/api/authen - 200 null application/json; charset=utf-8 44.3103ms
2025-06-25 01:59:11.918 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost/api/phongban - application/json; charset=utf-8 37
2025-06-25 01:59:11.918 +07:00 [INF] 
--- REQUEST ---
Time: 2025-06-25 01:59:11
Method: POST
Path: /api/phongban
Body: {"Page":1,"PageSize":5,"Keywords":""}

2025-06-25 01:59:11.920 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-06-25 01:59:11.920 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-25 01:59:11.920 +07:00 [INF] 
--- RESPONSE ---
Time: 2025-06-25 01:59:11
StatusCode: 401
Body: 
-----------------

2025-06-25 01:59:11.920 +07:00 [INF] HTTP POST /api/phongban responded 401 in 2.1081 ms
2025-06-25 01:59:11.921 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost/api/phongban - 401 null null 2.4785ms
2025-06-25 01:59:11.924 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost/api/nhanvien/haschange - null null
2025-06-25 01:59:11.925 +07:00 [INF] 
--- REQUEST ---
Time: 2025-06-25 01:59:11
Method: GET
Path: /api/nhanvien/haschange
Body: 

2025-06-25 01:59:11.927 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-06-25 01:59:11.927 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-25 01:59:11.927 +07:00 [INF] 
--- RESPONSE ---
Time: 2025-06-25 01:59:11
StatusCode: 401
Body: 
-----------------

2025-06-25 01:59:11.928 +07:00 [INF] HTTP GET /api/nhanvien/haschange responded 401 in 3.1652 ms
2025-06-25 01:59:11.928 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost/api/nhanvien/haschange - 401 null null 3.5028ms
2025-06-25 01:59:11.931 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost/api/chucvu - application/json; charset=utf-8 49
2025-06-25 01:59:11.932 +07:00 [INF] 
--- REQUEST ---
Time: 2025-06-25 01:59:11
Method: POST
Path: /api/chucvu
Body: {"ApiKey":"f3b9a2d4-5c1e-47d8-8a11-2e4f8a7b0c2d"}

2025-06-25 01:59:11.932 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-06-25 01:59:11.932 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-25 01:59:11.932 +07:00 [INF] 
--- RESPONSE ---
Time: 2025-06-25 01:59:11
StatusCode: 401
Body: 
-----------------

2025-06-25 01:59:11.933 +07:00 [INF] HTTP POST /api/chucvu responded 401 in 0.7720 ms
2025-06-25 01:59:11.933 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost/api/chucvu - 401 null null 1.2269ms
2025-06-25 01:59:11.937 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost/api/phongban - application/json; charset=utf-8 24
2025-06-25 01:59:11.938 +07:00 [INF] 
--- REQUEST ---
Time: 2025-06-25 01:59:11
Method: POST
Path: /api/phongban
Body: {"ApiKey":"sai-api-key"}

2025-06-25 01:59:11.938 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-06-25 01:59:11.938 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-25 01:59:11.938 +07:00 [INF] 
--- RESPONSE ---
Time: 2025-06-25 01:59:11
StatusCode: 401
Body: 
-----------------

2025-06-25 01:59:11.938 +07:00 [INF] HTTP POST /api/phongban responded 401 in 0.8894 ms
2025-06-25 01:59:11.938 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost/api/phongban - 401 null null 1.3552ms
2025-06-25 01:59:11.943 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost/api/authen - application/json; charset=utf-8 35
2025-06-25 01:59:11.944 +07:00 [INF] 
--- REQUEST ---
Time: 2025-06-25 01:59:11
Method: POST
Path: /api/authen
Body: {"Username":"any","Password":"any"}

2025-06-25 01:59:11.944 +07:00 [INF] Executing endpoint 'AuthController.Post (ElearningConnector)'
2025-06-25 01:59:11.944 +07:00 [INF] Route matched with {action = "Post", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(ElearningConnector.Models.Common.AuthRequest) on controller AuthController (ElearningConnector).
2025-06-25 01:59:12.007 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__8__locals1_request_UserName_0='?' (Size = 4000), @__hashedPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[PK_UserID], [u].[FullName], [u].[Password], [u].[UserName], [u].[UserType], [u].[isOnline]
FROM [User] AS [u]
WHERE [u].[UserName] = @__8__locals1_request_UserName_0 AND [u].[Password] = @__hashedPassword_1
2025-06-25 01:59:12.007 +07:00 [INF] Executing OkObjectResult, writing value of type 'ElearningConnector.Models.Common.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-25 01:59:12.007 +07:00 [INF] Executed action AuthController.Post (ElearningConnector) in 63.5201ms
2025-06-25 01:59:12.007 +07:00 [INF] Executed endpoint 'AuthController.Post (ElearningConnector)'
2025-06-25 01:59:12.008 +07:00 [INF] 
--- RESPONSE ---
Time: 2025-06-25 01:59:12
StatusCode: 200
Body: {"code":"0002","message":"Tài khoản hoặc mật khẩu không chính xác","result":null}
-----------------

2025-06-25 01:59:12.008 +07:00 [INF] HTTP POST /api/authen responded 200 in 64.2194 ms
2025-06-25 01:59:12.008 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost/api/authen - 200 null application/json; charset=utf-8 64.5407ms
2025-06-25 01:59:12.011 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost/api/authen - application/json; charset=utf-8 45
2025-06-25 01:59:12.011 +07:00 [INF] 
--- REQUEST ---
Time: 2025-06-25 01:59:12
Method: POST
Path: /api/authen
Body: {"UserName":"youruser","PassWord":"yourpass"}

2025-06-25 01:59:12.012 +07:00 [INF] Executing endpoint 'AuthController.Post (ElearningConnector)'
2025-06-25 01:59:12.012 +07:00 [INF] Route matched with {action = "Post", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(ElearningConnector.Models.Common.AuthRequest) on controller AuthController (ElearningConnector).
2025-06-25 01:59:12.015 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals1_request_UserName_0='?' (Size = 4000), @__hashedPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[PK_UserID], [u].[FullName], [u].[Password], [u].[UserName], [u].[UserType], [u].[isOnline]
FROM [User] AS [u]
WHERE [u].[UserName] = @__8__locals1_request_UserName_0 AND [u].[Password] = @__hashedPassword_1
2025-06-25 01:59:12.015 +07:00 [INF] Executing OkObjectResult, writing value of type 'ElearningConnector.Models.Common.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-25 01:59:12.015 +07:00 [INF] Executed action AuthController.Post (ElearningConnector) in 3.7572ms
2025-06-25 01:59:12.016 +07:00 [INF] Executed endpoint 'AuthController.Post (ElearningConnector)'
2025-06-25 01:59:12.016 +07:00 [INF] 
--- RESPONSE ---
Time: 2025-06-25 01:59:12
StatusCode: 200
Body: {"code":"0002","message":"Tài khoản hoặc mật khẩu không chính xác","result":null}
-----------------

2025-06-25 01:59:12.016 +07:00 [INF] HTTP POST /api/authen responded 200 in 4.6411 ms
2025-06-25 01:59:12.016 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost/api/authen - 200 null application/json; charset=utf-8 5.1073ms
2025-06-25 01:59:12.017 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost/api/danhsachcanbo - application/json; charset=utf-8 37
2025-06-25 01:59:12.017 +07:00 [INF] 
--- REQUEST ---
Time: 2025-06-25 01:59:12
Method: POST
Path: /api/danhsachcanbo
Body: {"Page":1,"PageSize":5,"Keywords":""}

2025-06-25 01:59:12.017 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-06-25 01:59:12.017 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-25 01:59:12.017 +07:00 [INF] 
--- RESPONSE ---
Time: 2025-06-25 01:59:12
StatusCode: 401
Body: 
-----------------

2025-06-25 01:59:12.017 +07:00 [INF] HTTP POST /api/danhsachcanbo responded 401 in 0.3878 ms
2025-06-25 01:59:12.017 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost/api/danhsachcanbo - 401 null null 0.6781ms
2025-06-25 01:59:12.021 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost/api/authen - application/json; charset=utf-8 45
2025-06-25 01:59:12.021 +07:00 [INF] 
--- REQUEST ---
Time: 2025-06-25 01:59:12
Method: POST
Path: /api/authen
Body: {"UserName":"youruser","PassWord":"yourpass"}

2025-06-25 01:59:12.021 +07:00 [INF] Executing endpoint 'AuthController.Post (ElearningConnector)'
2025-06-25 01:59:12.021 +07:00 [INF] Route matched with {action = "Post", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(ElearningConnector.Models.Common.AuthRequest) on controller AuthController (ElearningConnector).
2025-06-25 01:59:12.023 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals1_request_UserName_0='?' (Size = 4000), @__hashedPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[PK_UserID], [u].[FullName], [u].[Password], [u].[UserName], [u].[UserType], [u].[isOnline]
FROM [User] AS [u]
WHERE [u].[UserName] = @__8__locals1_request_UserName_0 AND [u].[Password] = @__hashedPassword_1
2025-06-25 01:59:12.023 +07:00 [INF] Executing OkObjectResult, writing value of type 'ElearningConnector.Models.Common.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-25 01:59:12.024 +07:00 [INF] Executed action AuthController.Post (ElearningConnector) in 2.3675ms
2025-06-25 01:59:12.024 +07:00 [INF] Executed endpoint 'AuthController.Post (ElearningConnector)'
2025-06-25 01:59:12.024 +07:00 [INF] 
--- RESPONSE ---
Time: 2025-06-25 01:59:12
StatusCode: 200
Body: {"code":"0002","message":"Tài khoản hoặc mật khẩu không chính xác","result":null}
-----------------

2025-06-25 01:59:12.024 +07:00 [INF] HTTP POST /api/authen responded 200 in 2.9792 ms
2025-06-25 01:59:12.024 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost/api/authen - 200 null application/json; charset=utf-8 3.3117ms
2025-06-25 01:59:12.024 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost/api/chucvu - application/json; charset=utf-8 37
2025-06-25 01:59:12.025 +07:00 [INF] 
--- REQUEST ---
Time: 2025-06-25 01:59:12
Method: POST
Path: /api/chucvu
Body: {"Page":1,"PageSize":5,"Keywords":""}

2025-06-25 01:59:12.025 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-06-25 01:59:12.025 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-25 01:59:12.025 +07:00 [INF] 
--- RESPONSE ---
Time: 2025-06-25 01:59:12
StatusCode: 401
Body: 
-----------------

2025-06-25 01:59:12.025 +07:00 [INF] HTTP POST /api/chucvu responded 401 in 0.3608 ms
2025-06-25 01:59:12.025 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost/api/chucvu - 401 null null 0.5828ms
2025-06-25 01:59:12.028 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost/api/authen - application/json; charset=utf-8 95
2025-06-25 01:59:12.029 +07:00 [INF] 
--- REQUEST ---
Time: 2025-06-25 01:59:12
Method: POST
Path: /api/authen
Body: {"ApiKey":"f3b9a2d4-5c1e-47d8-8a11-2e4f8a7b0c2d","Username":"phuongloan","Password":"thanh123"}

2025-06-25 01:59:12.029 +07:00 [INF] Executing endpoint 'AuthController.Post (ElearningConnector)'
2025-06-25 01:59:12.029 +07:00 [INF] Route matched with {action = "Post", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(ElearningConnector.Models.Common.AuthRequest) on controller AuthController (ElearningConnector).
2025-06-25 01:59:12.031 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals1_request_UserName_0='?' (Size = 4000), @__hashedPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[PK_UserID], [u].[FullName], [u].[Password], [u].[UserName], [u].[UserType], [u].[isOnline]
FROM [User] AS [u]
WHERE [u].[UserName] = @__8__locals1_request_UserName_0 AND [u].[Password] = @__hashedPassword_1
2025-06-25 01:59:12.090 +07:00 [INF] Executing OkObjectResult, writing value of type 'ElearningConnector.Models.Common.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-25 01:59:12.090 +07:00 [INF] Executed action AuthController.Post (ElearningConnector) in 61.0113ms
2025-06-25 01:59:12.090 +07:00 [INF] Executed endpoint 'AuthController.Post (ElearningConnector)'
2025-06-25 01:59:12.090 +07:00 [INF] 
--- RESPONSE ---
Time: 2025-06-25 01:59:12
StatusCode: 200
Body: {"code":"0000","message":"Đăng nhập thành công","result":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoicGh1b25nbG9hbiIsIlVzZXJJZCI6IjgiLCJVc2VyVHlwZSI6IjEiLCJleHAiOjE3NTA3OTg3NTIsImlzcyI6IkVsZWFybmluZ0Nvbm5lY3RvciIsImF1ZCI6IkVsZWFybmluZ0Nvbm5lY3RvclVzZXJzIn0.QZjAkhLXXdiVi-9deJK4roBfHJ-5-CcH3EEGy3Qn9T4"}
-----------------

2025-06-25 01:59:12.090 +07:00 [INF] HTTP POST /api/authen responded 200 in 61.7033 ms
2025-06-25 01:59:12.090 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost/api/authen - 200 null application/json; charset=utf-8 61.9958ms
2025-06-25 01:59:12.092 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost/api/authen - application/json; charset=utf-8 91
2025-06-25 01:59:12.092 +07:00 [INF] 
--- REQUEST ---
Time: 2025-06-25 01:59:12
Method: POST
Path: /api/authen
Body: {"ApiKey":"f3b9a2d4-5c1e-47d8-8a11-2e4f8a7b0c2d","Username":"saiuser","Password":"saipass"}

2025-06-25 01:59:12.092 +07:00 [INF] Executing endpoint 'AuthController.Post (ElearningConnector)'
2025-06-25 01:59:12.092 +07:00 [INF] Route matched with {action = "Post", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(ElearningConnector.Models.Common.AuthRequest) on controller AuthController (ElearningConnector).
2025-06-25 01:59:12.094 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals1_request_UserName_0='?' (Size = 4000), @__hashedPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[PK_UserID], [u].[FullName], [u].[Password], [u].[UserName], [u].[UserType], [u].[isOnline]
FROM [User] AS [u]
WHERE [u].[UserName] = @__8__locals1_request_UserName_0 AND [u].[Password] = @__hashedPassword_1
2025-06-25 01:59:12.094 +07:00 [INF] Executing OkObjectResult, writing value of type 'ElearningConnector.Models.Common.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-25 01:59:12.095 +07:00 [INF] Executed action AuthController.Post (ElearningConnector) in 2.2581ms
2025-06-25 01:59:12.095 +07:00 [INF] Executed endpoint 'AuthController.Post (ElearningConnector)'
2025-06-25 01:59:12.095 +07:00 [INF] 
--- RESPONSE ---
Time: 2025-06-25 01:59:12
StatusCode: 200
Body: {"code":"0002","message":"Tài khoản hoặc mật khẩu không chính xác","result":null}
-----------------

2025-06-25 01:59:12.095 +07:00 [INF] HTTP POST /api/authen responded 200 in 2.7001 ms
2025-06-25 01:59:12.095 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost/api/authen - 200 null application/json; charset=utf-8 2.9536ms
2025-06-25 01:59:12.097 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost/api/chucvu - application/json; charset=utf-8 24
2025-06-25 01:59:12.097 +07:00 [INF] 
--- REQUEST ---
Time: 2025-06-25 01:59:12
Method: POST
Path: /api/chucvu
Body: {"ApiKey":"sai-api-key"}

2025-06-25 01:59:12.098 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-06-25 01:59:12.098 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-25 01:59:12.098 +07:00 [INF] 
--- RESPONSE ---
Time: 2025-06-25 01:59:12
StatusCode: 401
Body: 
-----------------

2025-06-25 01:59:12.098 +07:00 [INF] HTTP POST /api/chucvu responded 401 in 0.6494 ms
2025-06-25 01:59:12.098 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost/api/chucvu - 401 null null 1.077ms
2025-06-25 01:59:12.118 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost/api/danhsachcanbo - application/json; charset=utf-8 24
2025-06-25 01:59:12.118 +07:00 [INF] 
--- REQUEST ---
Time: 2025-06-25 01:59:12
Method: POST
Path: /api/danhsachcanbo
Body: {"ApiKey":"sai-api-key"}

2025-06-25 01:59:12.118 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-06-25 01:59:12.119 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-25 01:59:12.119 +07:00 [INF] 
--- RESPONSE ---
Time: 2025-06-25 01:59:12
StatusCode: 401
Body: 
-----------------

2025-06-25 01:59:12.119 +07:00 [INF] HTTP POST /api/danhsachcanbo responded 401 in 0.4633 ms
2025-06-25 01:59:12.119 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost/api/danhsachcanbo - 401 null null 0.8036ms
2025-06-25 01:59:12.123 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost/api/phongban - application/json; charset=utf-8 49
2025-06-25 01:59:12.123 +07:00 [INF] 
--- REQUEST ---
Time: 2025-06-25 01:59:12
Method: POST
Path: /api/phongban
Body: {"ApiKey":"f3b9a2d4-5c1e-47d8-8a11-2e4f8a7b0c2d"}

2025-06-25 01:59:12.123 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-06-25 01:59:12.123 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-25 01:59:12.123 +07:00 [INF] 
--- RESPONSE ---
Time: 2025-06-25 01:59:12
StatusCode: 401
Body: 
-----------------

2025-06-25 01:59:12.123 +07:00 [INF] HTTP POST /api/phongban responded 401 in 0.4164 ms
2025-06-25 01:59:12.123 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost/api/phongban - 401 null null 0.7466ms
2025-06-25 01:59:12.133 +07:00 [ERR] [NhanVienChangeChecker] Gửi thông báo thất bại do exception
System.Threading.Tasks.TaskCanceledException: A task was canceled.
 ---> System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.<SendCoreAsync>g__Core|5_0(HttpRequestMessage request, Boolean useAsync, CancellationToken cancellationToken)
   at Microsoft.Extensions.Http.Logging.LoggingScopeHttpMessageHandler.<SendCoreAsync>g__Core|5_0(HttpRequestMessage request, Boolean useAsync, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpClient.HandleFailure(Exception e, Boolean telemetryStarted, HttpResponseMessage response, CancellationTokenSource cts, CancellationToken cancellationToken, CancellationTokenSource pendingRequestsCts)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at ElearningConnector.BackgroundServices.NhanVienChangeChecker.ExecuteAsync(CancellationToken stoppingToken) in C:\Users\thanh\source\repos\ElearningConnector\ElearningConnector\BackgroundServices\NhanVienChangeChecker.cs:line 39
